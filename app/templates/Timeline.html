<!DOCTYPE html>
<html lang="en">
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta property="og:title" content="Personal Portfolio">
        <meta property="og:description" content="My Personal Portfolio">
        <meta property="og:url" content="{{ url }}">
    
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link
            href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
            rel="stylesheet">
    
        <link lang='sass' rel="stylesheet" href="./static/styles/main.css">
        <link rel='icon' href='./static/img/favicon.ico' type='image/x-icon' />
        <title>Contact</title>
    </head>
    
    <body>
        <header class="nav-bar">
            <div class="nav-content">
                    <a href="/"> 
                        <div class="nav-logo">
                        <img src="./static/img/logo.svg" />
                        </div>
                    </a>
            <div class = "nav-links">
                <a href="{{ url_for('index') }}">Home</a>
                <a href="{{ url_for('Work') }}">Experience</a>
                <a href="{{ url_for('Hobbies') }}">Projects</a>
                <a href="{{ url_for('Map') }}">Map</a>
                <a href="{{ url_for('Timeline') }}">Contact</a>
            </div>    
            </div>
        </header>
  <body>
    <div class="timeline-container">
        <form id="timelineForm" method="post">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br>

        <label for="content">Content:</label>
        <textarea id="content" name="content" required></textarea><br>
        <button type="submit">Submit</button>
        <!--<a href="{{ url_for('ThankYou')}}" id="submitButton" class="submit-button">
            <span>Submit</span>
        </a>-->    
    </form>
    <div id="timelinePosts"></div>
    <script>
    document.getElementById('timelineForm').addEventListener('submit', function (event) {
        event.preventDefault();
        const formData = new FormData(event.target);
        const jsonData = {
            name: formData.get('name'),
            email: formData.get('email'),
            content: formData.get('content')
        };

        console.log(JSON.stringify(jsonData)); // Check the JSON payload

        fetch('/api/timeline_post', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(jsonData) // Use the form data here
        })
        .then(response => response.json())
        .then(data => {
            console.log(data);
            // Redirect to ThankYou page
            window.location.href = '/ThankYou';
        })
        .catch(error => console.error('Error:', error));
    });
    </script>
        </div>
        <footer class="footer-main">
            <div class ="footer-content">
                <a href="https://www.linkedin.com/in/margaret-diaz4570/" target="_blank">
                    <img class="footer-image" src="./static/img/linkedin.png">
                </a>
                <a href="mailto:margaret.diaz05@myhunter.cuny.edu?subject=Let's connect!">
                    <img class="footer-image" src="./static/img/email.png">
                </a> 
                <a href="https://github.com/MargaretDiaz4570" target="_blank">
                    <img class="footer-image" src="./static/img/github.png">
                </a> 
                <a href="https://drive.google.com/file/d/1pknbXNljJDh47WFE5Xe4UZHkBffrjjci/view" target="_blank">
                    <img class="footer-image" src="./static/img/resume.png">
                </a>
            </div>
  </body>
    
</html>